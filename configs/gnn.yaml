# GNN Option A: HeteroGAT Vehicle Fitment Recommendations
# See docs/plans/2026-02-16-gnn-option-a-design.md for design spec

# BigQuery sources
bigquery:
  project_id: ${PROJECT_ID:-auxia-reporting}
  source_project: ${SOURCE_PROJECT:-auxia-gcp}
  dataset: ${GNN_DATASET:-temp_holley_gnn}
  company_id: 1950

# Graph construction
graph:
  min_price: 25
  intent_start: "2025-09-01"
  co_purchase_threshold: 2
  co_purchase_top_k: 50
  time_decay_halflife_days: 30
  interaction_weights:
    view: 1
    cart: 3
    order: 5

# Model architecture
model:
  embedding_dim: 128
  hidden_dim: 256
  num_heads: 4
  num_layers: 2
  dropout: 0.1
  proj_dropout: 0.2

# Training
training:
  lr_embedding: 0.001
  lr_gnn: 0.01
  weight_decay: 0.01
  max_epochs: 100
  patience: 10
  grad_clip: 1.0
  negative_mix:
    in_batch: 0.5
    fitment_hard: 0.3
    random: 0.2

# Evaluation
eval:
  k_values: [4, 10, 20]
  test_window_days: 30
  bootstrap_samples: 1000
  user_split: [0.8, 0.1, 0.1]

# Output
output:
  shadow_table: "auxia-reporting.temp_holley_gnn.gnn_recommendations"
  model_gcs: "gs://auxia-models/holley/gnn/"
